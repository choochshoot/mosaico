<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Galer칤a Panal Ne칩n</title>
<style>
  :root{
    --hex-size: 140px;
    --gap: 2px;
    --hex-height: calc(var(--hex-size) * 1.1547);
    --vertical-overlap: calc(var(--hex-height) * 0.25);
    --neon-color: magenta;
  }
  body{
    margin:0;
    background:#0b0b0b;
    font-family:sans-serif;
    color:white;
    text-align:center;
  }
  h1{
    font-size:2.5rem;
    color: var(--neon-color);
    text-shadow: 
      0 0 5px var(--neon-color),
      0 0 10px var(--neon-color),
      0 0 20px var(--neon-color),
      0 0 40px var(--neon-color);
    animation: neonTextPulse 2.5s ease-in-out infinite;
  }
  @keyframes neonTextPulse {
    0%, 100% { text-shadow: 0 0 5px var(--neon-color), 0 0 10px var(--neon-color), 0 0 20px var(--neon-color), 0 0 40px var(--neon-color);}
    50% { text-shadow: 0 0 15px var(--neon-color), 0 0 30px var(--neon-color), 0 0 60px var(--neon-color), 0 0 80px var(--neon-color);}
  }
  .wrap{
    padding:16px;
    max-width:1600px;
    margin:auto;
  }
  .honeycomb{
    display:flex;
    flex-wrap:wrap;
    gap:var(--gap);
    margin-top: calc(var(--vertical-overlap) * -1);
    justify-content:center;
  }
  .hex{
    position:relative;
    width:var(--hex-size);
    height:var(--hex-height);
    margin-top: calc(var(--vertical-overlap) * -1);
    flex:0 0 auto;
  }
  .hex-inner{
    position:absolute;
    inset:0;
    clip-path: polygon(
      50% 0%,
      93% 25%,
      93% 75%,
      50% 100%,
      7% 75%,
      7% 25%
    );
    overflow:hidden;
    background:#111;
    box-shadow: 0 0 8px var(--neon-color),
                0 0 15px var(--neon-color),
                0 0 25px var(--neon-color),
                0 0 50px var(--neon-color);
    filter: drop-shadow(0 0 5px var(--neon-color))
            drop-shadow(0 0 15px var(--neon-color));
    animation: neonPulse 3s ease-in-out infinite;
  }
  @keyframes neonPulse {
    0%, 100% {
      box-shadow: 0 0 8px var(--neon-color),
                  0 0 15px var(--neon-color),
                  0 0 25px var(--neon-color),
                  0 0 50px var(--neon-color);
    }
    50% {
      box-shadow: 0 0 15px var(--neon-color),
                  0 0 30px var(--neon-color),
                  0 0 50px var(--neon-color),
                  0 0 80px var(--neon-color);
    }
  }
  .hex img{
    width:100%;
    height:100%;
    object-fit:cover;
    display:block;
  }
  .row-first-offset{
    margin-left: calc(var(--hex-size) / 2 + var(--gap) / 2);
  }
</style>
</head>
<body>
  <h1>Galer칤a Panal Ne칩n</h1>
  <div class="wrap">
    <div class="honeycomb" id="gallery"></div>
  </div>

<script src="https://unpkg.com/@supabase/supabase-js@2"></script>
<script>
  // 游댳 Pega aqu칤 tus credenciales de Supabase
  const SUPABASE_URL = "https://cskqlyauszpgjvwgenth.supabase.co";
  const SUPABASE_ANON_KEY = "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImNza3FseWF1c3pwZ2p2d2dlbnRoIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTQ2MTY4ODMsImV4cCI6MjA3MDE5Mjg4M30.HAZEfpAH2AZzoDBmsUOe3O33oAFbcRIJksZLOyeRvPk";

  const bucketName = "imagenes-usuarios"; // Cambia si tu bucket tiene otro nombre
  const { createClient } = supabase;
  const supabaseClient = createClient(SUPABASE_URL, SUPABASE_ANON_KEY);

  async function loadImages(){
    const { data, error } = await supabaseClient.storage
      .from(bucketName)
      .list("", { limit: 100, sortBy: { column: "created_at", order: "desc" } });

    if(error){
      console.error("Error cargando im치genes:", error);
      return;
    }

    const gallery = document.getElementById("gallery");
    let rowCount = 0;

    for (let file of data){
      let url = `${SUPABASE_URL}/storage/v1/object/public/${bucketName}/${file.name}`;

      // 游댳 Conversi칩n de .heic a PNG/JPG para compatibilidad
      if (file.name.toLowerCase().endsWith(".heic")) {
        url += "?format=png";
      }

      const hex = document.createElement("div");
      hex.className = "hex" + (rowCount % 2 ? " row-first-offset" : "");
      hex.innerHTML = `
        <div class="hex-inner">
          <img src="${url}" loading="lazy" alt="Foto" />
        </div>
      `;
      gallery.appendChild(hex);

      rowCount++;
    }
  }

  loadImages();
</script>
</body>
</html>



